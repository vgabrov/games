<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Phrasal Verb Fiasco</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes flash-green {
      0% { background-color: #10b981; }
      100% { background-color: transparent; }
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    .flash-green { animation: flash-green 0.5s ease-in-out; }
    .shake { animation: shake 0.5s ease-in-out; }
    #sprite { font-size: 2rem; transition: all 0.3s; }
    @media (max-width: 640px) {
      #game-container, #menu-container, #game-over { max-width: 90%; }
      button { font-size: 1rem; padding: 0.5rem; }
    }
  </style>
</head>
<body class="bg-gray-100 flex flex-col items-center justify-center min-h-screen">
  <!-- Pre-game Menu -->
  <div id="menu-container" class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md">
    <h1 class="text-2xl font-bold text-center mb-4">Phrasal Verb Fiasco - Setup</h1>
    
    <div class="mb-4">
      <label class="block text-sm font-medium mb-2">Difficulty Level:</label>
      <select id="difficulty" class="w-full p-2 border rounded">
        <option value="easy">Easy (+8/-3 points)</option>
        <option value="medium" selected>Medium (+10/-5 points)</option>
        <option value="hard">Hard (+12/-7 points)</option>
      </select>
    </div>
    
    <div class="mb-4">
      <label class="block text-sm font-medium mb-2">Topic:</label>
      <select id="topic" class="w-full p-2 border rounded">
        <option value="general">General (All Scenarios)</option>
        <option value="work">Work</option>
        <option value="social">Social Situations</option>
        <option value="travel">Travel & Tourism (Cafes, Banks, etc.)</option>
      </select>
    </div>
    
    <div class="mb-4">
      <label class="block text-sm font-medium mb-2">Number of Questions (1-50):</label>
      <input type="number" id="num-questions" min="1" max="50" value="50" class="w-full p-2 border rounded">
    </div>
    
    <div class="mb-4 flex items-center">
      <input type="checkbox" id="timer-toggle" class="mr-2">
      <label for="timer-toggle" class="text-sm font-medium">Enable Timer</label>
    </div>
    
    <div id="timer-input" class="mb-4 hidden">
      <label class="block text-sm font-medium mb-2">Time Limit per Question (5-60 seconds):</label>
      <input type="number" id="time-limit" min="5" max="60" value="15" class="w-full p-2 border rounded">
    </div>
    
    <button id="start-button" class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600">Start Game</button>
  </div>

  <!-- Game Container -->
  <div id="game-container" class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md hidden">
    <h1 class="text-2xl font-bold text-center mb-4">Phrasal Verb Fiasco</h1>
    <p id="score" class="text-center mb-4">Score: <span id="score-value">0</span> (Min: -10)</p>
    <div class="mb-2">
      <div class="w-full bg-gray-200 rounded-full h-2.5">
        <div id="progress" class="bg-blue-600 h-2.5 rounded-full transition-all duration-300" style="width: 0%"></div>
      </div>
      <p id="progress-text" class="text-center text-sm text-gray-600">Question 1/50</p>
    </div>
    <div id="sprite" class="text-center mb-4">ğŸ§‘â€ğŸ“</div>
    <div id="scenario-emojis" class="text-center mb-2 text-3xl"></div>
    <p id="scenario" class="mb-4 text-gray-700"></p>
    <div id="choices" class="space-y-2"></div>
    <div id="timer-display" class="text-center text-xl font-bold hidden mb-2"></div>
    <p id="feedback" class="mt-4 text-gray-700 hidden"></p>
    <button id="next-button" class="mt-4 w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 hidden">Next Scenario</button>
  </div>

  <!-- Game Over -->
  <div id="game-over" class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md hidden mt-4">
    <p id="game-over-message" class="text-center"></p>
    <button id="restart-button" class="mt-2 w-full bg-green-500 text-white py-2 rounded hover:bg-green-600">Restart Game</button>
  </div>

  <!-- Audio Placeholders -->
  <audio id="correct-sound" preload="auto">
    <source src="correct.mp3" type="audio/mpeg">
  </audio>
  <audio id="wrong-sound" preload="auto">
    <source src="wrong.mp3" type="audio/mpeg">
  </audio>

  <script>
    // Expanded scenarios (80 total: 20 per topic, balanced across difficulties)
    const scenarios = {
      easy: [
        // General (7 scenarios)
        { topic: "general", text: "You need to start your car. What do you do? ğŸš—", emojis: "ğŸš—ğŸ”‘", choices: [
          { text: "I turn it on.", correct: true, feedback: "Nice! The car roars to life. ğŸ˜" },
          { text: "I turn it off.", correct: false, feedback: "It's already off, silly! You sit in silence. ğŸ˜…" },
          { text: "I turn it up.", correct: false, feedback: "You blast the radio instead of starting the engine! ğŸ¶" },
          { text: "I turn it down.", correct: false, feedback: "You dim the headlights... still not moving! ğŸ˜´" }
        ]},
        { topic: "general", text: "Your room is a mess. What do you do? ğŸ§¹", emojis: "ğŸ§¹ğŸ ", choices: [
          { text: "I clean it up.", correct: true, feedback: "Spotless room, well done! âœ¨" },
          { text: "I clean it out.", correct: false, feedback: "You throw everything away, including your phone! ğŸ˜±" },
          { text: "I clean it off.", correct: false, feedback: "You wipe the walls... but the floor's still dirty! ğŸ˜†" },
          { text: "I clean it down.", correct: false, feedback: "You flood the room with waterâ€”now it's a swamp! ğŸŒŠ" }
        ]},
        { topic: "general", text: "Your shoes are dirty. What do you do? ğŸ‘Ÿ", emojis: "ğŸ‘ŸğŸ§¼", choices: [
          { text: "I clean them off.", correct: true, feedback: "Shiny shoes, ready to step out! âœ¨" },
          { text: "I clean them up.", correct: false, feedback: "You organize your shoes instead of cleaning them! ğŸ˜…" },
          { text: "I clean them out.", correct: false, feedback: "You empty your shoes... of what, socks? ğŸ˜†" },
          { text: "I clean them in.", correct: false, feedback: "You wash them inside outâ€”soggy mess! ğŸŒŠ" }
        ]},
        { topic: "general", text: "You want to relax with music. What do you do? ğŸ¶", emojis: "ğŸ¶ğŸ›‹ï¸", choices: [
          { text: "I turn it on.", correct: true, feedback: "Tunes playing, vibes perfect! ğŸ˜" },
          { text: "I turn it off.", correct: false, feedback: "Silence reigns, but whereâ€™s the chill? ğŸ˜´" },
          { text: "I turn it up.", correct: false, feedback: "You blast it so loud, neighbors complain! ğŸ“¢" },
          { text: "I turn it down.", correct: false, feedback: "You mute itâ€”no music, no fun! ğŸ˜…" }
        ]},
        { topic: "general", text: "Your dog is chewing your shoes. What do you do? ğŸ¶", emojis: "ğŸ¶ğŸ‘Ÿ", choices: [
          { text: "I tell it off.", correct: true, feedback: "Dog stops, shoes saved! Good job! ğŸ•" },
          { text: "I tell it up.", correct: false, feedback: "You cheer the dog to chew faster! ğŸ˜±" },
          { text: "I tell it out.", correct: false, feedback: "You send the dog outside with your shoe! ğŸƒ" },
          { text: "I tell it in.", correct: false, feedback: "You invite the dog to chew indoors more! ğŸ˜†" }
        ]},
        { topic: "general", text: "You need to prepare for a picnic. What do you do? ğŸ§º", emojis: "ğŸ§ºğŸŒ³", choices: [
          { text: "I pack it up.", correct: true, feedback: "Picnic basket readyâ€”letâ€™s eat! ğŸ" },
          { text: "I pack it in.", correct: false, feedback: "You cancel the picnic and stay home! ğŸ˜´" },
          { text: "I pack it off.", correct: false, feedback: "You ship the basket to Narnia! ğŸ“¦" },
          { text: "I pack it out.", correct: false, feedback: "You empty the basketâ€”starving time! ğŸ˜…" }
        ]},
        { topic: "general", text: "Your TV isnâ€™t working. What do you do? ğŸ“º", emojis: "ğŸ“ºğŸ”§", choices: [
          { text: "I fix it up.", correct: true, feedback: "TVâ€™s back onâ€”movie night saved! ğŸ¬" },
          { text: "I fix it out.", correct: false, feedback: "You throw the TV out the window! ğŸ˜±" },
          { text: "I fix it in.", correct: false, feedback: "You lock the TV in a closetâ€”why? ğŸ”’" },
          { text: "I fix it off.", correct: false, feedback: "You turn it off foreverâ€”no shows! ğŸ˜´" }
        ]},
        // Work (7 scenarios)
        { topic: "work", text: "Your boss needs a report quickly. What do you do? ğŸ“Š", emojis: "ğŸ“ŠğŸ’¼", choices: [
          { text: "I whip it up.", correct: true, feedback: "Report done fast, boss impressed! ğŸ˜Š" },
          { text: "I whip it out.", correct: false, feedback: "You dramatically pull out a whipâ€”chaos! ğŸ’ƒ" },
          { text: "I whip it off.", correct: false, feedback: "You take off your jacket instead of writing! ğŸ˜†" },
          { text: "I whip it down.", correct: false, feedback: "You scribble nonsense and spill coffee! ğŸ“ğŸ˜µ" }
        ]},
        { topic: "work", text: "A client is waiting for your call. What do you do? ğŸ“", emojis: "ğŸ“ğŸ’¼", choices: [
          { text: "I call them up.", correct: true, feedback: "Clientâ€™s happy, deal sealed! ğŸ˜" },
          { text: "I call them off.", correct: false, feedback: "You cancel the callâ€”deal lost! ğŸ˜£" },
          { text: "I call them out.", correct: false, feedback: "You challenge the client to a duel! ğŸ˜¬" },
          { text: "I call them in.", correct: false, feedback: "You invite them to your office nowâ€”awkward! ğŸ˜…" }
        ]},
        { topic: "work", text: "You need to organize a team meeting. What do you do? ğŸ“…", emojis: "ğŸ“…ğŸ‘¥", choices: [
          { text: "I set it up.", correct: true, feedback: "Meeting scheduledâ€”team aligned! ğŸ¥³" },
          { text: "I set it off.", correct: false, feedback: "You trigger a fire alarmâ€”chaos! ğŸš¨" },
          { text: "I set it out.", correct: false, feedback: "You plan it outdoors in a storm! ğŸŒ§ï¸" },
          { text: "I set it in.", correct: false, feedback: "You lock the meeting in a drawer! ğŸ”’" }
        ]},
        { topic: "work", text: "You need to finish a presentation. What do you do? ğŸ–¥ï¸", emojis: "ğŸ–¥ï¸ğŸ“ˆ", choices: [
          { text: "I wrap it up.", correct: true, feedback: "Slides done, ready to shine! âœ¨" },
          { text: "I wrap it out.", correct: false, feedback: "You gift-wrap it and send it away! ğŸ" },
          { text: "I wrap it off.", correct: false, feedback: "You abandon it halfwayâ€”oops! ğŸ˜´" },
          { text: "I wrap it in.", correct: false, feedback: "You hide it in a folderâ€”forgotten! ğŸ˜…" }
        ]},
        { topic: "work", text: "Your desk is cluttered. What do you do? ğŸ–‡ï¸", emojis: "ğŸ–‡ï¸ğŸ’¼", choices: [
          { text: "I tidy it up.", correct: true, feedback: "Desk sparklesâ€”productivity boost! ğŸ˜Š" },
          { text: "I tidy it out.", correct: false, feedback: "You throw all papers awayâ€”important ones too! ğŸ˜±" },
          { text: "I tidy it off.", correct: false, feedback: "You push everything off the desk! ğŸ˜†" },
          { text: "I tidy it in.", correct: false, feedback: "You stuff papers in a drawerâ€”messy still! ğŸ˜…" }
        ]},
        { topic: "work", text: "You need to review a contract. What do you do? ğŸ“œ", emojis: "ğŸ“œğŸ’¼", choices: [
          { text: "I look it over.", correct: true, feedback: "Contract checkedâ€”solid deal! âœ…" },
          { text: "I look it up.", correct: false, feedback: "You google the contractâ€”wrong move! ğŸ˜…" },
          { text: "I look it out.", correct: false, feedback: "You stare out the window instead! ğŸ˜´" },
          { text: "I look it off.", correct: false, feedback: "You dismiss it without reading! ğŸ˜£" }
        ]},
        { topic: "work", text: "You need to submit a report. What do you do? ğŸ“¤", emojis: "ğŸ“¤ğŸ’¼", choices: [
          { text: "I hand it in.", correct: true, feedback: "Report submittedâ€”boss pleased! ğŸ˜" },
          { text: "I hand it out.", correct: false, feedback: "You give copies to everyoneâ€”confidentiality breach! ğŸ˜±" },
          { text: "I hand it off.", correct: false, feedback: "You pass it to a random coworker! ğŸ˜†" },
          { text: "I hand it up.", correct: false, feedback: "You throw it in the airâ€”papers everywhere! ğŸ“„" }
        ]},
        // Social (7 scenarios)
        { topic: "social", text: "Your friend is telling a boring story. What do you do? ğŸ˜´", emojis: "ğŸ˜´ğŸ‰", choices: [
          { text: "I tune it out.", correct: true, feedback: "You politely nod and daydreamâ€”story over soon! ğŸ˜Œ" },
          { text: "I tune it in.", correct: false, feedback: "You focus too hard and get even more bored! ğŸ˜©" },
          { text: "I tune it up.", correct: false, feedback: "You adjust the 'volume' and turn it into a sing-along! ğŸ•º" },
          { text: "I tune it off.", correct: false, feedback: "You pretend to mute your friendâ€”super awkward! ğŸ˜¬" }
        ]},
        { topic: "social", text: "Youâ€™re invited to a party. What do you do? ğŸ‰", emojis: "ğŸ‰ğŸˆ", choices: [
          { text: "I show up.", correct: true, feedback: "You arrive, partyâ€™s better with you! ğŸ¥³" },
          { text: "I show out.", correct: false, feedback: "You leave early to avoid dancing! ğŸ˜…" },
          { text: "I show off.", correct: false, feedback: "You flex your dance movesâ€”too much! ğŸ’ƒ" },
          { text: "I show in.", correct: false, feedback: "You hide in the kitchen all night! ğŸ˜´" }
        ]},
        { topic: "social", text: "Your friend is upset. What do you do? ğŸ˜¢", emojis: "ğŸ˜¢ğŸ¤—", choices: [
          { text: "I cheer them up.", correct: true, feedback: "Friendâ€™s smiling againâ€”nice one! ğŸ˜Š" },
          { text: "I cheer them out.", correct: false, feedback: "You send them awayâ€”still sad! ğŸ˜£" },
          { text: "I cheer them off.", correct: false, feedback: "You shoo them like a flyâ€”rude! ğŸ˜¬" },
          { text: "I cheer them in.", correct: false, feedback: "You invite more sadness inâ€”oops! ğŸ˜…" }
        ]},
        { topic: "social", text: "You want to join a conversation. What do you do? ğŸ’¬", emojis: "ğŸ’¬ğŸ‘¥", choices: [
          { text: "I jump in.", correct: true, feedback: "Youâ€™re part of the chatâ€”great input! ğŸ˜" },
          { text: "I jump out.", correct: false, feedback: "You leap away from the groupâ€”missed out! ğŸ˜´" },
          { text: "I jump up.", correct: false, feedback: "You literally jump, startling everyone! ğŸ˜†" },
          { text: "I jump off.", correct: false, feedback: "You ditch the convo for no reason! ğŸ˜…" }
        ]},
        { topic: "social", text: "Youâ€™re planning a group outing. What do you do? ğŸŒ„", emojis: "ğŸŒ„ğŸ‘¥", choices: [
          { text: "I plan it out.", correct: true, feedback: "Trip plannedâ€”everyoneâ€™s excited! ğŸ¥³" },
          { text: "I plan it up.", correct: false, feedback: "You escalate to a world tourâ€”too much! ğŸŒ" },
          { text: "I plan it off.", correct: false, feedback: "You cancel the outingâ€”boo! ğŸ˜£" },
          { text: "I plan it in.", correct: false, feedback: "You plan a stay-home partyâ€”lame! ğŸ˜´" }
        ]},
        { topic: "social", text: "You need to decline an invitation. What do you do? ğŸ“©", emojis: "ğŸ“©ğŸš«", choices: [
          { text: "I turn it down.", correct: true, feedback: "Polite declineâ€”well handled! ğŸ˜Š" },
          { text: "I turn it up.", correct: false, feedback: "You make it a bigger eventâ€”overcommitted! ğŸ˜…" },
          { text: "I turn it off.", correct: false, feedback: "You ghost the inviteâ€”awkward! ğŸ˜¬" },
          { text: "I turn it in.", correct: false, feedback: "You submit it as homeworkâ€”wrong move! ğŸ˜†" }
        ]},
        { topic: "social", text: "You want to make a good impression at a party. What do you do? ğŸ˜", emojis: "ğŸ˜ğŸ‰", choices: [
          { text: "I dress up.", correct: true, feedback: "Looking sharpâ€”everyoneâ€™s impressed! âœ¨" },
          { text: "I dress out.", correct: false, feedback: "You wear hiking gear to the party! ğŸ˜…" },
          { text: "I dress off.", correct: false, feedback: "You show up in pajamasâ€”too casual! ğŸ˜´" },
          { text: "I dress in.", correct: false, feedback: "You hide in baggy clothesâ€”no spotlight! ğŸ˜†" }
        ]},
        // Travel (7 scenarios)
        { topic: "travel", text: "You need to ask for directions at a cafe. What do you do? â˜•", emojis: "â˜•ğŸ—ºï¸", choices: [
          { text: "I ask around.", correct: true, feedback: "Locals at the cafe help you find your way! ğŸ§­" },
          { text: "I ask out.", correct: false, feedback: "You invite the barista on a date instead! ğŸ˜³" },
          { text: "I ask up.", correct: false, feedback: "You shout your question to everyoneâ€”too loud! ğŸ˜…" },
          { text: "I ask off.", correct: false, feedback: "You cancel asking and wander blindly! ğŸš«" }
        ]},
        { topic: "travel", text: "You arrive at a tourist hotel. What do you do first? ğŸ¨", emojis: "ğŸ¨ğŸ›ï¸", choices: [
          { text: "I check in.", correct: true, feedback: "Room key in handâ€”welcome to paradise! ğŸ˜Š" },
          { text: "I check out.", correct: false, feedback: "You leave right away without a room! ğŸ˜µ" },
          { text: "I check up.", correct: false, feedback: "You inspect the lobby ceiling for cobwebs! ğŸ˜†" },
          { text: "I check off.", correct: false, feedback: "You mark 'hotel' off your list and skip staying! ğŸš«" }
        ]},
        { topic: "travel", text: "You need to board a train. What do you do? ğŸš‚", emojis: "ğŸš‚ğŸ«", choices: [
          { text: "I get on.", correct: true, feedback: "Youâ€™re on the trainâ€”next stop, adventure! ğŸ¥³" },
          { text: "I get off.", correct: false, feedback: "You exit before it even starts! ğŸ˜…" },
          { text: "I get up.", correct: false, feedback: "You stand up and miss the train! ğŸ˜´" },
          { text: "I get in.", correct: false, feedback: "You try squeezing into the luggage rack! ğŸ˜†" }
        ]},
        { topic: "travel", text: "Youâ€™re at a foreign airport and need information. What do you do? âœˆï¸", emojis: "âœˆï¸â“", choices: [
          { text: "I look it up.", correct: true, feedback: "Found the infoâ€”travel plans on track! ğŸ§­" },
          { text: "I look it over.", correct: false, feedback: "You skim a random flyerâ€”still lost! ğŸ˜…" },
          { text: "I look it out.", correct: false, feedback: "You stare out the windowâ€”pretty, but unhelpful! ğŸ˜´" },
          { text: "I look it off.", correct: false, feedback: "You ignore the help deskâ€”big mistake! ğŸ˜£" }
        ]},
        { topic: "travel", text: "You want to try local food at a market. What do you do? ğŸœ", emojis: "ğŸœğŸª", choices: [
          { text: "I try it out.", correct: true, feedback: "Delicious local dishâ€”culinary win! ğŸ˜‹" },
          { text: "I try it off.", correct: false, feedback: "You skip the foodâ€”hungry traveler! ğŸ˜£" },
          { text: "I try it up.", correct: false, feedback: "You toss the food in the airâ€”messy! ğŸ˜†" },
          { text: "I try it in.", correct: false, feedback: "You eat it inside a bagâ€”awkward! ğŸ˜…" }
        ]},
        { topic: "travel", text: "You need to catch a bus. What do you do? ğŸšŒ", emojis: "ğŸšŒâ°", choices: [
          { text: "I run after it.", correct: true, feedback: "You catch the busâ€”just in time! ğŸ¥³" },
          { text: "I run off it.", correct: false, feedback: "You flee from the busâ€”missed it! ğŸ˜…" },
          { text: "I run up it.", correct: false, feedback: "You climb on top of the busâ€”wild ride! ğŸ˜†" },
          { text: "I run in it.", correct: false, feedback: "You sprint inside and tripâ€”oops! ğŸ˜£" }
        ]},
        { topic: "travel", text: "Youâ€™re at a hotel and want to leave luggage. What do you do? ğŸ§³", emojis: "ğŸ§³ğŸ¨", choices: [
          { text: "I drop it off.", correct: true, feedback: "Luggage storedâ€”hands free! ğŸ˜" },
          { text: "I drop it out.", correct: false, feedback: "You throw your bags out the window! ğŸ˜±" },
          { text: "I drop it in.", correct: false, feedback: "You dump it in the lobbyâ€”messy! ğŸ˜…" },
          { text: "I drop it up.", correct: false, feedback: "You try lifting it to the ceilingâ€”why? ğŸ˜†" }
        ]}
      ],
      medium: [
        // General (7 scenarios)
        { topic: "general", text: "Your phone battery is low. What do you do? ğŸ“±", emojis: "ğŸ“±ğŸ”‹", choices: [
          { text: "I plug it in.", correct: true, feedback: "Charging nicelyâ€”full power soon! âš¡ï¸" },
          { text: "I plug it up.", correct: false, feedback: "You block the port with lintâ€”dead battery! ğŸ˜–" },
          { text: "I plug it out.", correct: false, feedback: "You unplug a stranger's chargerâ€”fight ensues! ğŸ˜¬" },
          { text: "I plug it off.", correct: false, feedback: "You turn off the phone to 'save' it... oops! ğŸ˜´" }
        ]},
        { topic: "general", text: "You need to leave a party early. What do you do? ğŸˆ", emojis: "ğŸˆğŸšª", choices: [
          { text: "I slip out.", correct: true, feedback: "You leave unnoticedâ€”smooth exit! ğŸ˜" },
          { text: "I slip up.", correct: false, feedback: "You trip over a balloon and spill drinks! ğŸ˜…" },
          { text: "I slip in.", correct: false, feedback: "You sneak back in for more cake by mistake! ğŸ¥³" },
          { text: "I slip off.", correct: false, feedback: "You doze off on the couchâ€”invisible no more! ğŸ˜´" }
        ]},
        { topic: "general", text: "Youâ€™re cold at home. What do you do? ğŸ¥¶", emojis: "ğŸ¥¶ğŸ”¥", choices: [
          { text: "I warm up.", correct: true, feedback: "Cozy and warmâ€”perfect! ğŸ¥°" },
          { text: "I warm out.", correct: false, feedback: "You step outside to warm upâ€”freezing! â„ï¸" },
          { text: "I warm off.", correct: false, feedback: "You turn off the heaterâ€”brrr! ğŸ˜£" },
          { text: "I warm in.", correct: false, feedback: "You trap heat in a jarâ€”useless! ğŸ˜†" }
        ]},
        { topic: "general", text: "You need to learn a new skill. What do you do? ğŸ“š", emojis: "ğŸ“šğŸ§ ", choices: [
          { text: "I pick it up.", correct: true, feedback: "Skill masteredâ€”nice work! ğŸ¥³" },
          { text: "I pick it out.", correct: false, feedback: "You choose a random skill and fail! ğŸ˜…" },
          { text: "I pick it off.", correct: false, feedback: "You peel off the bookâ€™s coverâ€”oops! ğŸ˜†" },
          { text: "I pick it in.", correct: false, feedback: "You hide the skill in your brainâ€”forgotten! ğŸ˜´" }
        ]},
        { topic: "general", text: "Your friend left dishes in the sink. What do you do? ğŸ½ï¸", emojis: "ğŸ½ï¸ğŸ§¼", choices: [
          { text: "I wash them up.", correct: true, feedback: "Dishes sparklingâ€”kitchen hero! âœ¨" },
          { text: "I wash them out.", correct: false, feedback: "You rinse them outsideâ€”why? ğŸ˜…" },
          { text: "I wash them off.", correct: false, feedback: "You wipe them and leave crumbs! ğŸ˜†" },
          { text: "I wash them in.", correct: false, feedback: "You soak them in a bucketâ€”messy! ğŸŒŠ" }
        ]},
        { topic: "general", text: "Youâ€™re late for an appointment. What do you do? â°", emojis: "â°ğŸƒ", choices: [
          { text: "I hurry up.", correct: true, feedback: "You make it just in timeâ€”phew! ğŸ˜" },
          { text: "I hurry out.", correct: false, feedback: "You run out without your keys! ğŸ˜£" },
          { text: "I hurry off.", correct: false, feedback: "You flee in the wrong direction! ğŸ˜…" },
          { text: "I hurry in.", correct: false, feedback: "You rush into the wrong room! ğŸ˜†" }
        ]},
        { topic: "general", text: "You need to save some money. What do you do? ğŸ’°", emojis: "ğŸ’°ğŸ·", choices: [
          { text: "I save it up.", correct: true, feedback: "Piggy bank fullâ€”future secured! ğŸ¥³" },
          { text: "I save it out.", correct: false, feedback: "You spend it all outsideâ€”broke! ğŸ˜£" },
          { text: "I save it off.", correct: false, feedback: "You avoid saving entirelyâ€”oops! ğŸ˜…" },
          { text: "I save it in.", correct: false, feedback: "You hide cash in a sockâ€”lost it! ğŸ˜†" }
        ]},
        // Work (7 scenarios)
        { topic: "work", text: "A meeting is getting heated. What do you do? ğŸ”¥", emojis: "ğŸ”¥ğŸ’¼", choices: [
          { text: "I calm it down.", correct: true, feedback: "Everyone chillsâ€”meeting saved! ğŸ˜Š" },
          { text: "I calm it up.", correct: false, feedback: "You make tempers rise even higher! ğŸ˜£" },
          { text: "I calm it out.", correct: false, feedback: "You herd everyone outside like cats! ğŸŒ³" },
          { text: "I calm it off.", correct: false, feedback: "You abruptly end the meetingâ€”unresolved! ğŸ˜®" }
        ]},
        { topic: "work", text: "You need to update a project plan. What do you do? ğŸ“ˆ", emojis: "ğŸ“ˆğŸ’¼", choices: [
          { text: "I write it up.", correct: true, feedback: "Plan updatedâ€”team on track! âœ…" },
          { text: "I write it out.", correct: false, feedback: "You copy it by handâ€”time wasted! ğŸ˜…" },
          { text: "I write it off.", correct: false, feedback: "You dismiss the planâ€”project fails! ğŸ˜£" },
          { text: "I write it in.", correct: false, feedback: "You scribble it in a notebookâ€”lost! ğŸ˜†" }
        ]},
        { topic: "work", text: "You need to end a long meeting. What do you do? ğŸ•’", emojis: "ğŸ•’ğŸ’¼", choices: [
          { text: "I wrap it up.", correct: true, feedback: "Meeting doneâ€”time saved! ğŸ˜" },
          { text: "I wrap it out.", correct: false, feedback: "You send everyone homeâ€”confused! ğŸ˜…" },
          { text: "I wrap it off.", correct: false, feedback: "You cancel it halfwayâ€”chaos! ğŸ˜£" },
          { text: "I wrap it in.", correct: false, feedback: "You trap everyone in discussionâ€”stuck! ğŸ˜†" }
        ]},
        { topic: "work", text: "You need to find a file on your computer. What do you do? ğŸ’»", emojis: "ğŸ’»ğŸ“‚", choices: [
          { text: "I look it up.", correct: true, feedback: "File foundâ€”work continues! ğŸ¥³" },
          { text: "I look it over.", correct: false, feedback: "You skim random filesâ€”wrong one! ğŸ˜…" },
          { text: "I look it out.", correct: false, feedback: "You stare at the screen blankly! ğŸ˜´" },
          { text: "I look it off.", correct: false, feedback: "You ignore the searchâ€”lost file! ğŸ˜£" }
        ]},
        { topic: "work", text: "You need to train a new employee. What do you do? ğŸ‘¨â€ğŸ«", emojis: "ğŸ‘¨â€ğŸ«ğŸ’¼", choices: [
          { text: "I show them around.", correct: true, feedback: "Newbie orientedâ€”great mentor! ğŸ˜Š" },
          { text: "I show them out.", correct: false, feedback: "You escort them outâ€”fired already? ğŸ˜±" },
          { text: "I show them off.", correct: false, feedback: "You brag about themâ€”awkward! ğŸ˜…" },
          { text: "I show them in.", correct: false, feedback: "You lock them in the officeâ€”trapped! ğŸ˜†" }
        ]},
        { topic: "work", text: "You need to reject a bad proposal. What do you do? ğŸ“", emojis: "ğŸ“ğŸš«", choices: [
          { text: "I turn it down.", correct: true, feedback: "Proposal rejectedâ€”smart move! âœ…" },
          { text: "I turn it up.", correct: false, feedback: "You amplify the bad ideaâ€”disaster! ğŸ˜£" },
          { text: "I turn it off.", correct: false, feedback: "You ignore it completelyâ€”missed chance! ğŸ˜…" },
          { text: "I turn it in.", correct: false, feedback: "You submit it as your ownâ€”oops! ğŸ˜†" }
        ]},
        { topic: "work", text: "You need to prepare a budget. What do you do? ğŸ’¸", emojis: "ğŸ’¸ğŸ“Š", choices: [
          { text: "I draw it up.", correct: true, feedback: "Budget readyâ€”finance approved! ğŸ˜" },
          { text: "I draw it out.", correct: false, feedback: "You sketch it slowlyâ€”deadline missed! ğŸ˜…" },
          { text: "I draw it off.", correct: false, feedback: "You doodle instead of budgeting! ğŸ˜†" },
          { text: "I draw it in.", correct: false, feedback: "You hide the budget in a fileâ€”lost! ğŸ˜´" }
        ]},
        // Social (7 scenarios)
        { topic: "social", text: "You want to join a group chat. What do you do? ğŸ’¬", emojis: "ğŸ’¬ğŸ‰", choices: [
          { text: "I chime in.", correct: true, feedback: "Your comment fits right inâ€”group loves it! ğŸ˜„" },
          { text: "I chime out.", correct: false, feedback: "You mute yourselfâ€”chat ignores you! ğŸ˜”" },
          { text: "I chime up.", correct: false, feedback: "You start ringing bells in the chat! ğŸ¤" },
          { text: "I chime off.", correct: false, feedback: "You log off before saying anything! ğŸšª" }
        ]},
        { topic: "social", text: "You want to leave a boring event. What do you do? ğŸ˜´", emojis: "ğŸ˜´ğŸˆ", choices: [
          { text: "I sneak out.", correct: true, feedback: "Smooth exitâ€”no one notices! ğŸ˜" },
          { text: "I sneak up.", correct: false, feedback: "You tiptoe loudlyâ€”everyone stares! ğŸ˜…" },
          { text: "I sneak in.", correct: false, feedback: "You go back for more boredom! ğŸ˜´" },
          { text: "I sneak off.", correct: false, feedback: "You trip and make a sceneâ€”oops! ğŸ˜†" }
        ]},
        { topic: "social", text: "You want to impress at a dinner party. What do you do? ğŸ½ï¸", emojis: "ğŸ½ï¸ğŸ‰", choices: [
          { text: "I show off.", correct: true, feedback: "Your charm wins the tableâ€”star of the night! âœ¨" },
          { text: "I show up.", correct: false, feedback: "You just arriveâ€”no oneâ€™s impressed yet! ğŸ˜…" },
          { text: "I show out.", correct: false, feedback: "You leave earlyâ€”missed the fun! ğŸ˜£" },
          { text: "I show in.", correct: false, feedback: "You hide in the kitchenâ€”shy chef? ğŸ˜†" }
        ]},
        { topic: "social", text: "You need to organize a friendâ€™s birthday. What do you do? ğŸ‚", emojis: "ğŸ‚ğŸ‰", choices: [
          { text: "I set it up.", correct: true, feedback: "Party plannedâ€”birthday success! ğŸ¥³" },
          { text: "I set it off.", correct: false, feedback: "You start a fire with candlesâ€”chaos! ğŸ”¥" },
          { text: "I set it out.", correct: false, feedback: "You plan it in a fieldâ€”rained out! ğŸŒ§ï¸" },
          { text: "I set it in.", correct: false, feedback: "You lock the party indoorsâ€”cramped! ğŸ˜…" }
        ]},
        { topic: "social", text: "You want to help a friend with a task. What do you do? ğŸ¤", emojis: "ğŸ¤ğŸ‰", choices: [
          { text: "I pitch in.", correct: true, feedback: "Teamwork makes the dream work! ğŸ˜Š" },
          { text: "I pitch out.", correct: false, feedback: "You throw the task awayâ€”oops! ğŸ˜…" },
          { text: "I pitch up.", correct: false, feedback: "You raise the stakes too high! ğŸ˜£" },
          { text: "I pitch off.", correct: false, feedback: "You dodge helping entirely! ğŸ˜´" }
        ]},
        { topic: "social", text: "Youâ€™re arguing with a friend. What do you do? ğŸ˜£", emojis: "ğŸ˜£ğŸ‘¥", choices: [
          { text: "I make up.", correct: true, feedback: "Friendship restoredâ€”hugs all around! ğŸ¤—" },
          { text: "I make out.", correct: false, feedback: "You kiss and confuse everyone! ğŸ˜³" },
          { text: "I make off.", correct: false, feedback: "You run away from the argument! ğŸ˜…" },
          { text: "I make in.", correct: false, feedback: "You drag the fight indoorsâ€”tense! ğŸ˜†" }
        ]},
        { topic: "social", text: "You want to share a cool idea. What do you do? ğŸ’¡", emojis: "ğŸ’¡ğŸ‰", choices: [
          { text: "I bring it up.", correct: true, feedback: "Idea sharedâ€”everyone loves it! ğŸ˜" },
          { text: "I bring it out.", correct: false, feedback: "You present it outside in the rainâ€”soggy! ğŸŒ§ï¸" },
          { text: "I bring it off.", correct: false, feedback: "You abandon the ideaâ€”lost chance! ğŸ˜£" },
          { text: "I bring it in.", correct: false, feedback: "You hide it in a boxâ€”no one sees! ğŸ˜…" }
        ]},
        // Travel (7 scenarios)
        { topic: "travel", text: "You need to exchange money at a bank. What do you do? ğŸ’¸", emojis: "ğŸ’¸ğŸ¦", choices: [
          { text: "I cash it in.", correct: true, feedback: "Local currency in handâ€”ready to spend! ğŸ’°" },
          { text: "I cash it out.", correct: false, feedback: "You withdraw everythingâ€”bank run! ğŸ˜±" },
          { text: "I cash it up.", correct: false, feedback: "You try to 'cash up'â€”confusion! ğŸ˜µ" },
          { text: "I cash it off.", correct: false, feedback: "You dismiss the tellerâ€”empty-handed! ğŸ˜£" }
        ]},
        { topic: "travel", text: "You're lost in a new city. What do you do? ğŸ—ºï¸", emojis: "ğŸ—ºï¸ğŸŒ†", choices: [
          { text: "I figure it out.", correct: true, feedback: "Map in mindâ€”you find your way! ğŸ§­" },
          { text: "I figure it up.", correct: false, feedback: "You climb a lamppost to 'figure up'! ğŸŒ³" },
          { text: "I figure it off.", correct: false, feedback: "You give up and nap on a bench! ğŸ˜´" },
          { text: "I figure on it.", correct: false, feedback: "You expect the city to guide youâ€”lost! ğŸ˜…" }
        ]},
        { topic: "travel", text: "You want coffee at a busy cafe abroad. What do you do? â˜•", emojis: "â˜•ğŸª", choices: [
          { text: "I line up.", correct: true, feedback: "Your turnâ€”espresso incoming! ğŸ˜‹" },
          { text: "I line out.", correct: false, feedback: "You draw a line on the floorâ€”confused! ğŸ“" },
          { text: "I line in.", correct: false, feedback: "You squeeze into the wrong queue! ğŸ˜…" },
          { text: "I line off.", correct: false, feedback: "You mark the menu offâ€”skip ordering! ğŸš«" }
        ]},
        { topic: "travel", text: "You need to book a flight. What do you do? âœˆï¸", emojis: "âœˆï¸ğŸ«", choices: [
          { text: "I book it up.", correct: true, feedback: "Flight bookedâ€”ready to soar! ğŸ›«" },
          { text: "I book it out.", correct: false, feedback: "You send the ticket awayâ€”no trip! ğŸ˜£" },
          { text: "I book it off.", correct: false, feedback: "You cancel the flightâ€”grounded! ğŸ˜…" },
          { text: "I book it in.", correct: false, feedback: "You reserve it secretlyâ€”lost booking! ğŸ˜†" }
        ]},
        { topic: "travel", text: "Youâ€™re at a museum and want to leave. What do you do? ğŸ–¼ï¸", emojis: "ğŸ–¼ï¸ğŸšª", choices: [
          { text: "I head out.", correct: true, feedback: "You exit smoothlyâ€”time for coffee! ğŸ˜" },
          { text: "I head up.", correct: false, feedback: "You climb to the atticâ€”lost in art! ğŸ˜…" },
          { text: "I head in.", correct: false, feedback: "You dive deeper into the museum! ğŸ˜´" },
          { text: "I head off.", correct: false, feedback: "You wander away aimlessly! ğŸ˜†" }
        ]},
        { topic: "travel", text: "You need to pay at a restaurant. What do you do? ğŸ½ï¸", emojis: "ğŸ½ï¸ğŸ’³", choices: [
          { text: "I pay up.", correct: true, feedback: "Bill settledâ€”great meal! ğŸ˜Š" },
          { text: "I pay out.", correct: false, feedback: "You give cash to a strangerâ€”oops! ğŸ˜±" },
          { text: "I pay off.", correct: false, feedback: "You bribe the waiterâ€”no need! ğŸ˜…" },
          { text: "I pay in.", correct: false, feedback: "You stuff cash in the menuâ€”awkward! ğŸ˜†" }
        ]},
        { topic: "travel", text: "You want to explore a new city. What do you do? ğŸŒ†", emojis: "ğŸŒ†ğŸ—ºï¸", choices: [
          { text: "I walk around.", correct: true, feedback: "City sights discoveredâ€”adventure on! ğŸ¥³" },
          { text: "I walk out.", correct: false, feedback: "You leave the cityâ€”missed the fun! ğŸ˜£" },
          { text: "I walk up.", correct: false, feedback: "You climb a skyscraperâ€”exhausting! ğŸ˜…" },
          { text: "I walk in.", correct: false, feedback: "You enter a random shopâ€”lost! ğŸ˜†" }
        ]}
      ],
      hard: [
        // General (6 scenarios)
        { topic: "general", text: "You're running out of groceries. What do you do? ğŸ›’", emojis: "ğŸ›’ğŸ", choices: [
          { text: "I stock up.", correct: true, feedback: "Pantry overflowingâ€”prepared for weeks! ğŸ¥³" },
          { text: "I stock out.", correct: false, feedback: "You sell your empty fridge at a yard sale! ğŸ˜…" },
          { text: "I stock in.", correct: false, feedback: "You lock the few items away from yourself! ğŸ”’" },
          { text: "I stock off.", correct: false, feedback: "You ignore it and order pizza forever! ğŸ˜´ğŸ•" }
        ]},
        { topic: "general", text: "Your team needs motivation. What do you do? ğŸš€", emojis: "ğŸš€ğŸ‘¥", choices: [
          { text: "I fire them up.", correct: true, feedback: "Team's energized and productive! ğŸ’ª" },
          { text: "I fire them out.", correct: false, feedback: "You send the whole team home early! ğŸ˜®" },
          { text: "I fire them off.", correct: false, feedback: "You launch emails like fireworksâ€”spam alert! ğŸ†" },
          { text: "I fire them in.", correct: false, feedback: "You trap them in a tiny room for 'focus'! ğŸ”’" }
        ]},
        { topic: "general", text: "Youâ€™re overwhelmed with tasks. What do you do? ğŸ“‹", emojis: "ğŸ“‹ğŸ˜“", choices: [
          { text: "I sort it out.", correct: true, feedback: "Tasks organizedâ€”stress gone! ğŸ˜" },
          { text: "I sort it up.", correct: false, feedback: "You pile tasks higherâ€”chaos! ğŸ˜£" },
          { text: "I sort it off.", correct: false, feedback: "You ignore them allâ€”disaster! ğŸ˜…" },
          { text: "I sort it in.", correct: false, feedback: "You hide tasks in a drawerâ€”forgotten! ğŸ˜†" }
        ]},
        { topic: "general", text: "You need to prepare for a big event. What do you do? ğŸ‰", emojis: "ğŸ‰ğŸ“…", choices: [
          { text: "I gear up.", correct: true, feedback: "Ready for the eventâ€”bring it on! ğŸ¥³" },
          { text: "I gear out.", correct: false, feedback: "You pack camping gear instead! ğŸ˜…" },
          { text: "I gear off.", correct: false, feedback: "You skip preparationsâ€”unready! ğŸ˜£" },
          { text: "I gear in.", correct: false, feedback: "You lock yourself in gearâ€”stuck! ğŸ˜†" }
        ]},
        { topic: "general", text: "Your car is low on fuel. What do you do? â›½", emojis: "â›½ğŸš—", choices: [
          { text: "I fill it up.", correct: true, feedback: "Tank fullâ€”road trip ready! ğŸ›£ï¸" },
          { text: "I fill it out.", correct: false, feedback: "You write a fuel reportâ€”useless! ğŸ˜…" },
          { text: "I fill it off.", correct: false, feedback: "You ignore itâ€”stranded! ğŸ˜£" },
          { text: "I fill it in.", correct: false, feedback: "You pour fuel in the trunkâ€”messy! ğŸ˜†" }
        ]},
        { topic: "general", text: "You want to improve your fitness. What do you do? ğŸ‹ï¸", emojis: "ğŸ‹ï¸ğŸ’ª", choices: [
          { text: "I work out.", correct: true, feedback: "Muscles growingâ€”fitness goals met! ğŸ’ª" },
          { text: "I work up.", correct: false, feedback: "You get overly excited and crash! ğŸ˜…" },
          { text: "I work off.", correct: false, feedback: "You skip the gym entirely! ğŸ˜´" },
          { text: "I work in.", correct: false, feedback: "You exercise indoorsâ€”cramped space! ğŸ˜†" }
        ]},
        // Work (6 scenarios)
        { topic: "work", text: "A project is behind schedule. What do you do? â°", emojis: "â°ğŸ’¼", choices: [
          { text: "I catch up.", correct: true, feedback: "Deadlines metâ€”team celebrates! ğŸš€" },
          { text: "I catch out.", correct: false, feedback: "You expose a coworker's mistakeâ€”drama! ğŸ˜£" },
          { text: "I catch in.", correct: false, feedback: "You get tangled in red tape meetings! ğŸ˜©" },
          { text: "I catch off.", correct: false, feedback: "You doze off during overtime! ğŸ˜´" }
        ]},
        { topic: "work", text: "You need to resolve a conflict at work. What do you do? ğŸ¤", emojis: "ğŸ¤ğŸ’¼", choices: [
          { text: "I smooth it over.", correct: true, feedback: "Harmony restoredâ€”team united! ğŸ˜Š" },
          { text: "I smooth it out.", correct: false, feedback: "You flatten the issue literallyâ€”awkward! ğŸ˜…" },
          { text: "I smooth it off.", correct: false, feedback: "You dismiss itâ€”tension grows! ğŸ˜£" },
          { text: "I smooth it in.", correct: false, feedback: "You bury the conflictâ€”explodes later! ğŸ˜†" }
        ]},
        { topic: "work", text: "You need to cancel a meeting. What do you do? ğŸ“…", emojis: "ğŸ“…ğŸš«", choices: [
          { text: "I call it off.", correct: true, feedback: "Meeting canceledâ€”time freed! ğŸ˜" },
          { text: "I call it up.", correct: false, feedback: "You schedule more meetingsâ€”overbooked! ğŸ˜£" },
          { text: "I call it out.", correct: false, feedback: "You publicly criticize itâ€”drama! ğŸ˜…" },
          { text: "I call it in.", correct: false, feedback: "You move it indoorsâ€”same problem! ğŸ˜†" }
        ]},
        { topic: "work", text: "You need to prepare for a client pitch. What do you do? ğŸ¤", emojis: "ğŸ¤ğŸ’¼", choices: [
          { text: "I brush up.", correct: true, feedback: "Skills polishedâ€”pitch perfect! âœ¨" },
          { text: "I brush out.", correct: false, feedback: "You sweep the room insteadâ€”wrong prep! ğŸ˜…" },
          { text: "I brush off.", correct: false, feedback: "You ignore the pitchâ€”client lost! ğŸ˜£" },
          { text: "I brush in.", correct: false, feedback: "You paint the slidesâ€”artsy fail! ğŸ˜†" }
        ]},
        { topic: "work", text: "You need to distribute tasks. What do you do? ğŸ“‹", emojis: "ğŸ“‹ğŸ‘¥", choices: [
          { text: "I hand them out.", correct: true, feedback: "Tasks assignedâ€”team rolling! âœ…" },
          { text: "I hand them in.", correct: false, feedback: "You submit tasks to yourselfâ€”confused! ğŸ˜…" },
          { text: "I hand them off.", correct: false, feedback: "You delegate everythingâ€”lazy! ğŸ˜´" },
          { text: "I hand them up.", correct: false, feedback: "You toss tasks in the airâ€”chaos! ğŸ˜†" }
        ]},
        { topic: "work", text: "You need to improve a process. What do you do? âš™ï¸", emojis: "âš™ï¸ğŸ’¼", choices: [
          { text: "I streamline it.", correct: true, feedback: "Process optimizedâ€”efficiency king! ğŸ˜" },
          { text: "I streamline out.", correct: false, feedback: "You remove the process entirelyâ€”oops! ğŸ˜£" },
          { text: "I streamline off.", correct: false, feedback: "You ignore itâ€”inefficiency rules! ğŸ˜…" },
          { text: "I streamline in.", correct: false, feedback: "You complicate it with extra steps! ğŸ˜†" }
        ]},
        // Social (6 scenarios)
        { topic: "social", text: "You need to end a conversation politely. What do you do? ğŸ˜Š", emojis: "ğŸ˜ŠğŸ‰", choices: [
          { text: "I bow out.", correct: true, feedback: "Graceful goodbyeâ€”they understand! ğŸ˜" },
          { text: "I bow in.", correct: false, feedback: "You keep bowing awkwardly like a robot! ğŸ˜…" },
          { text: "I bow up.", correct: false, feedback: "You puff up and challenge them to a duel! ğŸ’ª" },
          { text: "I bow off.", correct: false, feedback: "You trip and bow out the doorâ€”literally! ğŸ˜¬" }
        ]},
        { topic: "social", text: "You want to reconnect with an old friend. What do you do? ğŸ“", emojis: "ğŸ“ğŸ‘¥", choices: [
          { text: "I catch up.", correct: true, feedback: "Great chatâ€”friendship revived! ğŸ˜Š" },
          { text: "I catch out.", correct: false, feedback: "You expose their old secretsâ€”awkward! ğŸ˜…" },
          { text: "I catch off.", correct: false, feedback: "You hang up earlyâ€”missed chance! ğŸ˜£" },
          { text: "I catch in.", correct: false, feedback: "You trap them in a long callâ€”tiring! ğŸ˜†" }
        ]},
        { topic: "social", text: "You want to avoid a boring topic. What do you do? ğŸ˜´", emojis: "ğŸ˜´ğŸ’¬", choices: [
          { text: "I steer away.", correct: true, feedback: "Topic changedâ€”conversation saved! ğŸ˜" },
          { text: "I steer up.", correct: false, feedback: "You escalate the boring talkâ€”yawn! ğŸ˜…" },
          { text: "I steer off.", correct: false, feedback: "You derail the chat completely! ğŸ˜£" },
          { text: "I steer in.", correct: false, feedback: "You dive deeper into boredom! ğŸ˜´" }
        ]},
        { topic: "social", text: "You need to apologize to a friend. What do you do? ğŸ˜”", emojis: "ğŸ˜”ğŸ¤", choices: [
          { text: "I make it up.", correct: true, feedback: "Apology acceptedâ€”friendship back! ğŸ˜Š" },
          { text: "I make it out.", correct: false, feedback: "You kiss and confuse them! ğŸ˜³" },
          { text: "I make it off.", correct: false, feedback: "You run from the apologyâ€”awkward! ğŸ˜…" },
          { text: "I make it in.", correct: false, feedback: "You hide your apologyâ€”unseen! ğŸ˜†" }
        ]},
        { topic: "social", text: "You want to share gossip. What do you do? ğŸ—£ï¸", emojis: "ğŸ—£ï¸ğŸ‰", choices: [
          { text: "I pass it on.", correct: true, feedback: "Gossip sharedâ€”party buzzes! ğŸ¥³" },
          { text: "I pass it out.", correct: false, feedback: "You faint from gossip overload! ğŸ˜…" },
          { text: "I pass it off.", correct: false, feedback: "You dismiss itâ€”boring party! ğŸ˜£" },
          { text: "I pass it in.", correct: false, feedback: "You whisper it to yourselfâ€”pointless! ğŸ˜†" }
        ]},
        { topic: "social", text: "You want to calm an angry friend. What do you do? ğŸ˜£", emojis: "ğŸ˜£ğŸ¤—", choices: [
          { text: "I talk them down.", correct: true, feedback: "Friendâ€™s calmâ€”crisis averted! ğŸ˜Š" },
          { text: "I talk them up.", correct: false, feedback: "You hype them upâ€”more anger! ğŸ˜…" },
          { text: "I talk them out.", correct: false, feedback: "You convince them to leaveâ€”oops! ğŸ˜£" },
          { text: "I talk them in.", correct: false, feedback: "You trap them in a lectureâ€”worse! ğŸ˜†" }
        ]},
        // Travel (6 scenarios)
        { topic: "travel", text: "You need a room at a busy airport hotel. What do you do? ğŸ¨âœˆï¸", emojis: "ğŸ¨âœˆï¸", choices: [
          { text: "I check in.", correct: true, feedback: "Suite upgradedâ€”restful layover! ğŸ˜Š" },
          { text: "I check out.", correct: false, feedback: "You bail before registeringâ€”floor sleep! ğŸ˜µ" },
          { text: "I check up.", correct: false, feedback: "You verify the flight schedule instead! ğŸ˜†" },
          { text: "I check off.", correct: false, feedback: "You tick 'hotel' off and keep flying! ğŸš«" }
        ]},
        { topic: "travel", text: "You need to cancel a tour booking. What do you do? ğŸ“…", emojis: "ğŸ“…ğŸš¶", choices: [
          { text: "I call it off.", correct: true, feedback: "Refunded and freeâ€”better plans ahead! ğŸ˜Š" },
          { text: "I call it up.", correct: false, feedback: "You book an extra tour by accident! ğŸ˜…" },
          { text: "I call it out.", correct: false, feedback: "You yell at the agentâ€”banned! ğŸ˜£" },
          { text: "I call it in.", correct: false, feedback: "You fake sick to skip itâ€”guilt trip! ğŸ˜³" }
        ]},
        { topic: "travel", text: "You want to withdraw cash at a foreign ATM. What do you do? ğŸ§", emojis: "ğŸ§ğŸ’³", choices: [
          { text: "I take it out.", correct: true, feedback: "Bills dispensedâ€”safe travels! ğŸ’µ" },
          { text: "I take it up.", correct: false, feedback: "You argue fees with the machine! ğŸ˜¤" },
          { text: "I take it in.", correct: false, feedback: "You absorb the exchange rate mentallyâ€”confused! ğŸ¤¯" },
          { text: "I take it off.", correct: false, feedback: "You remove the cardâ€”empty-handed! ğŸ˜©" }
        ]},
        { topic: "travel", text: "You need to return a rental car. What do you do? ğŸš—", emojis: "ğŸš—ğŸ”‘", choices: [
          { text: "I drop it off.", correct: true, feedback: "Car returnedâ€”trip complete! ğŸ˜" },
          { text: "I drop it out.", correct: false, feedback: "You abandon it in a fieldâ€”fined! ğŸ˜£" },
          { text: "I drop it in.", correct: false, feedback: "You park it in the officeâ€”wrong spot! ğŸ˜…" },
          { text: "I drop it up.", correct: false, feedback: "You lift it onto a truckâ€”why? ğŸ˜†" }
        ]},
        { topic: "travel", text: "You want to learn about local culture. What do you do? ğŸ›ï¸", emojis: "ğŸ›ï¸ğŸŒ", choices: [
          { text: "I read up.", correct: true, feedback: "Culture masteredâ€”local expert! ğŸ¥³" },
          { text: "I read out.", correct: false, feedback: "You read aloud to strangersâ€”awkward! ğŸ˜…" },
          { text: "I read off.", correct: false, feedback: "You skip readingâ€”clueless tourist! ğŸ˜£" },
          { text: "I read in.", correct: false, feedback: "You hide the bookâ€”no learning! ğŸ˜†" }
        ]},
        { topic: "travel", text: "You need to catch a flight. What do you do? âœˆï¸", emojis: "âœˆï¸â°", choices: [
          { text: "I rush off.", correct: true, feedback: "Boarding on timeâ€”skyward bound! ğŸ›«" },
          { text: "I rush up.", correct: false, feedback: "You sprint to the roofâ€”wrong way! ğŸ˜…" },
          { text: "I rush out.", correct: false, feedback: "You leave the airportâ€”missed flight! ğŸ˜£" },
          { text: "I rush in.", correct: false, feedback: "You barge into securityâ€”detained! ğŸ˜†" }
        ]}
      ]
    };

    let currentScenarioIndex = 0;
    let score = 0;
    let selectedScenarios = [];
    let totalQuestions = 50;
    let timerEnabled = false;
    let timeLimit = 15;
    let timerInterval = null;
    let currentTime = 0;
    let difficulty = 'medium';
    let topic = 'general';

    const correctSound = document.getElementById('correct-sound');
    const wrongSound = document.getElementById('wrong-sound');
    const sprite = document.getElementById('sprite');

    // Toggle timer input visibility
    document.getElementById('timer-toggle').addEventListener('change', function() {
      document.getElementById('timer-input').classList.toggle('hidden', !this.checked);
    });

    // Start game
    document.getElementById('start-button').addEventListener('click', () => {
      difficulty = document.getElementById('difficulty').value;
      topic = document.getElementById('topic').value;
      totalQuestions = Math.min(Math.max(parseInt(document.getElementById('num-questions').value) || 50, 1), 50);
      timerEnabled = document.getElementById('timer-toggle').checked;
      timeLimit = timerEnabled ? Math.min(Math.max(parseInt(document.getElementById('time-limit').value) || 15, 5), 60) : 15;

      // Filter scenarios based on topic and difficulty
      let availableScenarios = scenarios[difficulty];
      if (topic !== 'general') {
        availableScenarios = availableScenarios.filter(s => s.topic === topic);
      }
      if (availableScenarios.length === 0) {
        alert('No scenarios available for this topic and difficulty. Try another combination.');
        return;
      }
      // Repeat scenarios if not enough to meet totalQuestions
      while (availableScenarios.length < totalQuestions) {
        availableScenarios = availableScenarios.concat(availableScenarios);
      }
      selectedScenarios = shuffle(availableScenarios).slice(0, totalQuestions);

      currentScenarioIndex = 0;
      score = 0;
      document.getElementById('score-value').textContent = score;
      document.getElementById('menu-container').classList.add('hidden');
      document.getElementById('game-container').classList.remove('hidden');
      loadScenario();
    });

    // Shuffle array
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // Load scenario
    function loadScenario() {
      if (currentScenarioIndex >= selectedScenarios.length) {
        endGame();
        return;
      }

      const scenario = selectedScenarios[currentScenarioIndex];
      document.getElementById('scenario').textContent = scenario.text;
      document.getElementById('scenario-emojis').textContent = scenario.emojis;
      document.getElementById('progress-text').textContent = `Question ${currentScenarioIndex + 1}/${selectedScenarios.length}`;
      document.getElementById('progress').style.width = `${((currentScenarioIndex + 1) / selectedScenarios.length) * 100}%`;

      const choicesDiv = document.getElementById('choices');
      choicesDiv.innerHTML = '';
      shuffle(scenario.choices).forEach(choice => {
        const button = document.createElement('button');
        button.className = 'w-full bg-gray-200 py-2 rounded hover:bg-gray-300';
        button.textContent = choice.text;
        button.addEventListener('click', () => handleChoice(choice));
        choicesDiv.appendChild(button);
      });

      document.getElementById('feedback').classList.add('hidden');
      document.getElementById('next-button').classList.add('hidden');
      sprite.textContent = 'ğŸ§‘â€ğŸ“';

      if (timerEnabled) {
        currentTime = timeLimit;
        document.getElementById('timer-display').textContent = `Time: ${currentTime}s`;
        document.getElementById('timer-display').classList.remove('hidden');
        startTimer();
      }
    }

    // Handle choice
    function handleChoice(choice) {
      clearInterval(timerInterval);
      document.getElementById('timer-display').classList.add('hidden');
      const feedback = document.getElementById('feedback');
      feedback.textContent = choice.feedback;
      feedback.classList.remove('hidden');

      const points = {
        easy: { correct: 8, wrong: -3 },
        medium: { correct: 10, wrong: -5 },
        hard: { correct: 12, wrong: -7 }
      };

      if (choice.correct) {
        score += points[difficulty].correct;
        document.body.classList.add('flash-green');
        sprite.textContent = 'ğŸ˜';
        correctSound.play().catch(() => {});
        setTimeout(() => document.body.classList.remove('flash-green'), 500);
      } else {
        score += points[difficulty].wrong;
        document.body.classList.add('shake');
        sprite.textContent = 'ğŸ˜…';
        wrongSound.play().catch(() => {});
        setTimeout(() => document.body.classList.remove('shake'), 500);
      }

      if (score < -10) score = -10;
      document.getElementById('score-value').textContent = score;
      document.getElementById('next-button').classList.remove('hidden');

      if (score <= -10) {
        endGame();
      }
    }

    // Start timer
    function startTimer() {
      clearInterval(timerInterval);
      timerInterval = setInterval(() => {
        currentTime--;
        document.getElementById('timer-display').textContent = `Time: ${currentTime}s`;
        if (currentTime <= 0) {
          clearInterval(timerInterval);
          score -= 2;
          if (score < -10) score = -10;
          document.getElementById('score-value').textContent = score;
          document.getElementById('feedback').textContent = 'Timeâ€™s up! -2 points ğŸ˜“';
          document.getElementById('feedback').classList.remove('hidden');
          document.getElementById('next-button').classList.remove('hidden');
          sprite.textContent = 'ğŸ˜“';
          wrongSound.play().catch(() => {});
          if (score <= -10) {
            endGame();
          }
        }
      }, 1000);
    }

    // Next scenario
    document.getElementById('next-button').addEventListener('click', () => {
      currentScenarioIndex++;
      loadScenario();
    });

    // End game
    function endGame() {
      clearInterval(timerInterval);
      document.getElementById('game-container').classList.add('hidden');
      document.getElementById('game-over').classList.remove('hidden');
      const message = score <= -10
        ? `Game Over! Score: ${score}. Too many mistakes! ğŸ˜¢ Try again?`
        : `Game Over! Final Score: ${score}. Great job! ğŸ‰ Play again?`;
      document.getElementById('game-over-message').textContent = message;
    }

    // Restart game
    document.getElementById('restart-button').addEventListener('click', () => {
      currentScenarioIndex = 0;
      score = 0;
      document.getElementById('score-value').textContent
